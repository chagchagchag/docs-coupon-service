(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[580],{5236:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/project-overview/module-structure",function(){return t(7603)}])},7603:function(e,n,t){"use strict";t.r(n),t.d(n,{__toc:function(){return d}});var c=t(5893),r=t(2673),o=t(373),i=t(8426);t(9128);var s=t(2643);let d=[];function _createMdxContent(e){let n=Object.assign({h1:"h1",p:"p",code:"code",ul:"ul",li:"li"},(0,s.a)(),e.components);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.h1,{children:"멀티 모듈 구조"}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.code,{children:"coupon-core"})}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"DomainEvent, ExceptionCode"}),"\n",(0,c.jsx)(n.li,{}),"\n"]}),"\n",(0,c.jsx)("br",{}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.code,{children:"coupon-api"})}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"예를 들어 쿠폰 1개에 대해 10000 명의 사용자에게 발급한다고 할 때 발급에 대한 동시성 처리를 요청들을 레디스에 저장해두는 Write Back 방식의 캐시 지연 처리"}),"\n",(0,c.jsx)(n.li,{children:"controller, advice"}),"\n",(0,c.jsx)(n.li,{children:"redis enqueue"}),"\n",(0,c.jsx)(n.li,{children:"RedisScript"}),"\n"]}),"\n",(0,c.jsx)("br",{}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.code,{children:"coupon-assigner"})}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"Redis 에 저장된 요청을 꺼내어서 MySQL에 저장하는 작업. 스케쥴링(@Scheduled) 기반의 데이터 배치 저장 처리"}),"\n",(0,c.jsxs)(n.li,{children:["데이터 저장 작업 완료시 ",(0,c.jsx)(n.code,{children:"UserAssignedNewCouponEvent"})," 라는 도메인 이벤트 발급(publish)"]}),"\n",(0,c.jsx)(n.li,{children:"@TransactionalEventListener 를 통해 트랜잭션 커밋이 완료된 couponId 를 Redis 내에 저장"}),"\n"]}),"\n",(0,c.jsx)("br",{}),"\n",(0,c.jsx)(n.p,{children:"etc"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"coupon-assigner"})," 의 경우 적당한 이름을 찾지 못해서 ",(0,c.jsx)(n.code,{children:"coupon-assigner"})," 라는 이름을 지어줬는데, 적당한 이름을 찾을 경우 모듈 명을 변경하고, 적당한 이름을 찾지 못하면 지금까지와 같이 ",(0,c.jsx)(n.code,{children:"coupon-assigner"})," 로 진행 예정"]}),"\n"]}),"\n",(0,c.jsx)("br",{})]})}let l={MDXContent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,s.a)(),e.components);return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(_createMdxContent,{...e})}):_createMdxContent(e)},pageOpts:{filePath:"pages/project-overview/module-structure.mdx",route:"/project-overview/module-structure",timestamp:1707123138e3,pageMap:[{kind:"MdxPage",name:"about",route:"/about"},{kind:"MdxPage",name:"index",route:"/"},{kind:"Folder",name:"project-overview",route:"/project-overview",children:[{kind:"MdxPage",name:"module-structure",route:"/project-overview/module-structure"},{kind:"MdxPage",name:"tech-stack",route:"/project-overview/tech-stack"},{kind:"Meta",data:{"tech-stack":"Tech Stack","module-structure":"멀티 모듈 구조"}}]},{kind:"Meta",data:{"project-overview":"Project Overview",index:"Introduction",about:{title:"About",type:"page"},contact:{title:"Contact ↗",type:"page",href:"-",newWindow:!0}}}],flexsearch:{codeblocks:!0},title:"멀티 모듈 구조",headings:d},pageNextRoute:"/project-overview/module-structure",nextraLayout:o.ZP,themeConfig:i.Z};n.default=(0,r.j)(l)},8426:function(e,n,t){"use strict";var c=t(5893);t(7294);let r={logo:(0,c.jsx)("span",{children:"My Project"}),project:{link:"https://github.com/chagchagchag/docs-coupon-service"},docsRepositoryBase:"https://github.com/chagchagchag/docs-coupon-service",footer:{text:"Nextra Docs Template"}};n.Z=r},5789:function(){}},function(e){e.O(0,[774,796,888,179],function(){return e(e.s=5236)}),_N_E=e.O()}]);